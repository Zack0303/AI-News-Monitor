<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI-News-Monitor | ä»Šæ—¥æƒ…æŠ¥</title>
  <meta name="description" content="é¢å‘å·¥ç¨‹å›¢é˜Ÿä¸äº§å“å›¢é˜Ÿçš„ä¸­æ–‡ AI æƒ…æŠ¥æ—¥æŠ¥ã€‚" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500;700&family=IBM+Plex+Sans:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./assets/style.css" />
  <script type="application/ld+json">{{ index_structured_data }}</script>
</head>
<body>
  <main class="page">
    <header class="hero panel">
      <div class="hero-main">
        <p class="eyebrow">AI æƒ…æŠ¥æ—¥æŠ¥</p>
        <h1>ä»Šå¤©å€¼å¾—è·Ÿè¿›çš„ AI ä¿¡å·</h1>
        <p class="hero-desc">å›´ç»•å·¥ç¨‹è½åœ°ä»·å€¼ç­›é€‰ï¼Œä¼˜å…ˆçœ‹é«˜ä¿¡å·ï¼Œå†çœ‹è§‚å¯Ÿé¡¹ã€‚</p>
      </div>
      <div class="hero-actions">
        <a class="link-btn" href="./history.html">å†å²æ—¥æŠ¥</a>
      </div>
      <div class="stats-grid">
        <article class="stat-card">
          <span class="stat-label">å‘å¸ƒæ—¥æœŸ</span>
          <strong>{{ date }}</strong>
        </article>
        <article class="stat-card">
          <span class="stat-label">å€™é€‰æ€»æ•°</span>
          <strong>{{ candidates }}</strong>
        </article>
        <article class="stat-card">
          <span class="stat-label">ä¸»çº¿æ¡ç›®</span>
          <strong>{{ site_meta.primary_count }}</strong>
        </article>
        <article class="stat-card">
          <span class="stat-label">è§‚å¯Ÿæ¡ç›®</span>
          <strong>{{ site_meta.watchlist_count }}</strong>
        </article>
      </div>
    </header>

    <section class="panel trust-panel">
      <h2>æ–¹æ³•é€æ˜</h2>
      <div class="trust-grid">
        <div>
          <span class="badge badge-mode">Mode: {{ site_meta.analysis_mode }}</span>
          <span class="badge badge-model">Model: {{ site_meta.model }}</span>
          <span class="badge {{ 'badge-fallback-on' if site_meta.fallback_used else 'badge-fallback-off' }}">
            Fallback: {{ site_meta.fallback_used }}
          </span>
        </div>
        <p class="muted">Generated at: {{ generated_at }}</p>
      </div>
      <div class="feedback-row">
        <p class="muted">æœ¬åœ°ç‚¹å‡»ç»Ÿè®¡ï¼ˆä»Šæ—¥ï¼‰: <strong id="local-click-count">0</strong></p>
        <p class="muted">åé¦ˆäº‹ä»¶ï¼ˆç´¯è®¡ï¼‰: <strong id="local-feedback-count">0</strong></p>
        <button id="export-feedback" class="link-btn" type="button">å¯¼å‡ºåé¦ˆ JSON</button>
      </div>
      <div class="source-mix">
        {% for k, v in source_mix.items() %}
          <span class="source-pill">{{ k }}: {{ v }}</span>
        {% endfor %}
      </div>
    </section>

    <section class="panel">
      <div class="section-head">
        <h2>ä»Šæ—¥é‡ç‚¹</h2>
        <p class="muted">æŒ‰ä¸ªæ€§åŒ–ç»¼åˆåˆ†æ’åºï¼Œä¼˜å…ˆå±•ç¤º Top 3ã€‚</p>
      </div>
      <div class="focus-grid">
        {% for item in featured_items %}
        <article class="focus-card"
          data-item-id="{{ item.get('id','') }}"
          data-source="{{ item.get('source','') }}"
          data-link="{{ item.get('link','') }}"
          data-title="{{ item.get('title','') }}">
          <p class="focus-rank">TOP {{ loop.index }}</p>
          <h3>{{ item.get("title", "Untitled") }}</h3>
          <p class="meta">
            <span>{{ item.get("source", "-") }}</span>
            <span>Score: {{ item.get("total_score", 0) }}</span>
            <span>Personalized: {{ item.get("personalized_total_score", item.get("total_score", 0)) }}</span>
          </p>
          <p>{{ item.get("summary_cn", "") }}</p>
          <p class="reason">{{ item.get("why_it_matters", "") }}</p>
          <p class="reason">æ¨èä¾æ®ï¼š{{ item.get("preference_explain", "no-preference-signal") }}</p>
          <p class="action">ä¸‹ä¸€æ­¥ï¼š{{ item.get("next_action", item.get("action_hint", "")) }}</p>
          <div class="feedback-actions">
            <button class="feedback-btn" data-feedback="like" type="button">ğŸ‘ å–œæ¬¢</button>
            <button class="feedback-btn" data-feedback="dislike" type="button">ğŸ‘ ä¸å–œæ¬¢</button>
          </div>
          <p>
            <a href="{{ item.get('detail_url', '#') }}">æŸ¥çœ‹è§£è¯»</a> |
            <a href="{{ item.get('link', '#') }}" target="_blank" rel="noopener noreferrer">æŸ¥çœ‹åŸæ–‡</a>
          </p>
        </article>
        {% endfor %}
      </div>
    </section>

    <section class="toolbar panel">
      <input id="search-input" class="search" placeholder="æœç´¢æ ‡é¢˜ / æ¥æº / æ‘˜è¦..." />
      <select id="tier-filter" class="select">
        <option value="all">å…¨éƒ¨å±‚çº§</option>
        <option value="primary">ä¸»çº¿</option>
        <option value="watchlist">è§‚å¯Ÿ</option>
      </select>
      <label class="check-wrap"><input type="checkbox" id="github-only" /> ä»… GitHub</label>
      <select id="sort-select" class="select">
        <option value="score_desc">åˆ†æ•°ä»é«˜åˆ°ä½</option>
        <option value="score_asc">åˆ†æ•°ä»ä½åˆ°é«˜</option>
      </select>
      <span class="muted">å½“å‰å¯è§: <strong id="result-count">{{ items|length }}</strong></span>
    </section>

    <section id="card-grid" class="card-grid">
      {% for item in items %}
      <article
        class="news-card"
        data-item-id="{{ item.get('id','') }}"
        data-source="{{ item.get('source', 'unknown') }}"
        data-tier="{{ item.get('output_tier', 'primary') }}"
        data-has-github="{{ 'true' if 'github.com' in item.get('link', '') else 'false' }}"
        data-score="{{ item.get('personalized_total_score', item.get('total_score', 0)) }}"
        data-link="{{ item.get('link','') }}"
        data-title="{{ item.get('title','') }}"
      >
        <div class="card-head">
          <h2>{{ loop.index }}. {{ item.get("title", "Untitled") }}</h2>
          <span class="badge {{ 'badge-primary' if item.get('output_tier', 'primary') == 'primary' else 'badge-watchlist' }}">
            {{ item.get("output_tier", "primary").upper() }}
          </span>
        </div>
        <p class="meta">
          <span>Source: {{ item.get("source", "-") }}</span>
          <span>Score: {{ item.get("total_score", 0) }}</span>
          <span>Personalized: {{ item.get("personalized_total_score", item.get("total_score", 0)) }}</span>
          <span>Category: {{ item.get("category", "-") }}</span>
        </p>
        <p class="summary">{{ item.get("summary_cn", "") }}</p>
        <p class="reason">{{ item.get("why_it_matters", "") }}</p>
        <p class="reason">æ¨èä¾æ®ï¼š{{ item.get("preference_explain", "no-preference-signal") }}</p>
        <p class="action">ä¸‹ä¸€æ­¥ï¼š{{ item.get("next_action", item.get("action_hint", "")) }}</p>
        <div class="feedback-actions">
          <button class="feedback-btn" data-feedback="like" type="button">ğŸ‘ å–œæ¬¢</button>
          <button class="feedback-btn" data-feedback="dislike" type="button">ğŸ‘ ä¸å–œæ¬¢</button>
        </div>
        <p>
          <a href="{{ item.get('detail_url', '#') }}">æŸ¥çœ‹è§£è¯»</a> |
          <a href="{{ item.get('link', '#') }}" target="_blank" rel="noopener noreferrer">Open Link</a>
        </p>
      </article>
      {% endfor %}
    </section>
  </main>
  <script src="./assets/app.js"></script>
</body>
</html>

